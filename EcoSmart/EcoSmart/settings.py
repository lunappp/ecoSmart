"""
Django settings for EcoSmart project.

Generated by 'django-admin startproject' using Django 5.2.4.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""

import os
from pathlib import Path
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = 'django-insecure-^iv^i*o_t^cne+)jpk#q(p5^vgu6g#w%n3tooj&w-xpx)*@y_l'

# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True

ALLOWED_HOSTS = []


# Application definition

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'App',
    'Planes_app',
    'chatbot'
]

# Mistral AI Configuration
MISTRAL_API_KEY = os.getenv('MISTRAL_API_KEY')

# Economics knowledge base for AI training
ECONOMICS_KNOWLEDGE = """
ğŸ¦ 1. Conceptos bÃ¡sicos de economÃ­a
Q: Â¿QuÃ© es la economÃ­a?
A: La economÃ­a es la ciencia que estudia cÃ³mo las personas, empresas y gobiernos utilizan los recursos limitados para satisfacer necesidades ilimitadas.

Q: Â¿QuÃ© es la escasez?
A: Es la situaciÃ³n en la que los recursos disponibles son insuficientes para cubrir todas las necesidades humanas.

Q: Â¿QuÃ© son los bienes y servicios?
A: Los bienes son objetos materiales que satisfacen necesidades (como ropa o comida), y los servicios son actividades que tambiÃ©n lo hacen (como transporte o educaciÃ³n).

Q: Â¿QuÃ© es el costo de oportunidad?
A: Es el valor de la mejor alternativa que se pierde cuando se elige una opciÃ³n.

Q: Â¿QuÃ© es la oferta y la demanda?
A: La oferta representa la cantidad de bienes que los productores estÃ¡n dispuestos a vender, y la demanda, la cantidad que los consumidores desean comprar.

Q: Â¿QuÃ© es el mercado?
A: Es el lugar fÃ­sico o virtual donde se intercambian bienes y servicios entre compradores y vendedores.

ğŸ“ˆ 2. MicroeconomÃ­a
Q: Â¿QuÃ© estudia la microeconomÃ­a?
A: Analiza el comportamiento individual de consumidores, empresas y mercados especÃ­ficos.

Q: Â¿QuÃ© es la elasticidad de la demanda?
A: Es la medida de cÃ³mo cambia la cantidad demandada de un bien ante un cambio en su precio.

Q: Â¿QuÃ© es un monopolio?
A: Es una situaciÃ³n donde una sola empresa domina la oferta de un producto o servicio sin competencia.

Q: Â¿QuÃ© es la competencia perfecta?
A: Es un mercado donde hay muchos compradores y vendedores, productos idÃ©nticos y libre entrada o salida de empresas.

Q: Â¿QuÃ© son los costos fijos y variables?
A: Los costos fijos no cambian con la producciÃ³n (como el alquiler), y los variables sÃ­ cambian (como materias primas).

ğŸ’¹ 3. MacroeconomÃ­a
Q: Â¿QuÃ© estudia la macroeconomÃ­a?
A: Analiza la economÃ­a en su conjunto: crecimiento, inflaciÃ³n, desempleo, polÃ­tica fiscal y monetaria.

Q: Â¿QuÃ© es el PIB?
A: El Producto Interno Bruto mide el valor total de bienes y servicios finales producidos en un paÃ­s durante un perÃ­odo.

Q: Â¿QuÃ© es la inflaciÃ³n?
A: Es el aumento sostenido y generalizado de los precios de bienes y servicios en una economÃ­a.

Q: Â¿QuÃ© es la deflaciÃ³n?
A: Es la disminuciÃ³n general de los precios en una economÃ­a.

Q: Â¿QuÃ© es el desempleo?
A: Es la situaciÃ³n en la que personas que buscan trabajo activamente no consiguen empleo.

Q: Â¿QuÃ© es la polÃ­tica fiscal?
A: Es el uso del gasto pÃºblico y los impuestos por parte del gobierno para influir en la economÃ­a.

Q: Â¿QuÃ© es la polÃ­tica monetaria?
A: Es la regulaciÃ³n de la cantidad de dinero y las tasas de interÃ©s, generalmente a cargo del banco central.

ğŸ’° 4. Finanzas personales
Q: Â¿QuÃ© es un presupuesto personal?
A: Es una herramienta que permite planificar ingresos y gastos para mantener un equilibrio financiero.

Q: Â¿CÃ³mo puedo empezar a ahorrar?
A: EstablecÃ© metas claras, registrÃ¡ tus gastos, eliminÃ¡ los innecesarios y destinÃ¡ un porcentaje fijo de tus ingresos al ahorro.

Q: Â¿QuÃ© es una inversiÃ³n?
A: Es el uso de dinero para adquirir activos que puedan generar ganancias futuras.

Q: Â¿QuÃ© es el interÃ©s compuesto?
A: Es el interÃ©s que se calcula sobre el capital inicial mÃ¡s los intereses acumulados anteriormente.

Q: Â¿QuÃ© es la inflaciÃ³n y cÃ³mo afecta mis ahorros?
A: La inflaciÃ³n reduce el poder adquisitivo del dinero, por lo que tus ahorros valen menos con el tiempo si no se invierten.

ğŸª™ 5. Dinero y banca
Q: Â¿QuÃ© es el dinero?
A: Es un medio de intercambio aceptado para comprar bienes y servicios y pagar deudas.

Q: Â¿QuÃ© funciones cumple el dinero?
A: Sirve como medio de intercambio, unidad de cuenta y reserva de valor.

Q: Â¿QuÃ© es un banco central?
A: Es la instituciÃ³n encargada de emitir moneda, controlar la inflaciÃ³n y regular el sistema financiero.

Q: Â¿QuÃ© es una tasa de interÃ©s?
A: Es el costo del dinero, expresado como porcentaje del monto prestado o invertido.

Q: Â¿QuÃ© son las criptomonedas?
A: Son monedas digitales descentralizadas que usan criptografÃ­a para asegurar transacciones, como Bitcoin o Ethereum.

ğŸŒ 6. Comercio internacional
Q: Â¿QuÃ© es el comercio internacional?
A: Es el intercambio de bienes y servicios entre paÃ­ses.

Q: Â¿QuÃ© son las exportaciones e importaciones?
A: Exportar es vender productos al extranjero, e importar es comprarlos desde otro paÃ­s.

Q: Â¿QuÃ© son los aranceles?
A: Son impuestos aplicados a productos importados para proteger la producciÃ³n nacional.

Q: Â¿QuÃ© es la balanza comercial?
A: Es la diferencia entre el valor de las exportaciones y las importaciones de un paÃ­s.

Q: Â¿QuÃ© es la globalizaciÃ³n econÃ³mica?
A: Es la creciente interconexiÃ³n de las economÃ­as del mundo mediante el comercio, la inversiÃ³n y la tecnologÃ­a.

ğŸ“Š 7. EconomÃ­a argentina (puede adaptarse a otros paÃ­ses)
Q: Â¿QuÃ© causa la inflaciÃ³n en Argentina?
A: Factores como el exceso de emisiÃ³n monetaria, dÃ©ficit fiscal, aumento de costos y expectativas inflacionarias.

Q: Â¿QuÃ© es el tipo de cambio?
A: Es el valor de una moneda nacional en relaciÃ³n con otra, por ejemplo, cuÃ¡ntos pesos cuesta un dÃ³lar.

Q: Â¿QuÃ© es el dÃ©ficit fiscal?
A: Es cuando los gastos del Estado superan sus ingresos.

Q: Â¿QuÃ© es el riesgo paÃ­s?
A: Es un indicador que mide la probabilidad de que un paÃ­s no cumpla con sus obligaciones financieras.

Q: Â¿Por quÃ© sube el dÃ³lar?
A: Puede deberse a mayor demanda de dÃ³lares, inestabilidad econÃ³mica o pÃ©rdida de confianza en la moneda local.

ğŸ§  8. EconomÃ­a conductual y moderna
Q: Â¿QuÃ© es la economÃ­a conductual?
A: Es una rama que estudia cÃ³mo las emociones y la psicologÃ­a influyen en las decisiones econÃ³micas.

Q: Â¿QuÃ© son los sesgos cognitivos?
A: Son errores sistemÃ¡ticos en la toma de decisiones, como el exceso de confianza o el miedo a perder.

Q: Â¿QuÃ© es el "nudge" o empujÃ³n?
A: Es una estrategia que modifica el entorno para influir en las decisiones sin imponer reglas.

ğŸ›ï¸ 9. Instituciones y sistemas econÃ³micos
Q: Â¿QuÃ© tipos de sistemas econÃ³micos existen?
A: Capitalismo, socialismo, comunismo y economÃ­as mixtas.

Q: Â¿QuÃ© es el capitalismo?
A: Sistema donde los medios de producciÃ³n son privados y las decisiones se toman a travÃ©s del mercado.

Q: Â¿QuÃ© es el socialismo?
A: Sistema donde el Estado controla o regula los medios de producciÃ³n para garantizar igualdad.

Q: Â¿QuÃ© es una economÃ­a mixta?
A: Es una combinaciÃ³n de mercado libre y control estatal.

ğŸ§¾ 10. Impuestos y gasto pÃºblico
Q: Â¿QuÃ© son los impuestos?
A: Son aportes obligatorios que los ciudadanos pagan al Estado para financiar servicios pÃºblicos.

Q: Â¿QuÃ© tipos de impuestos existen?
A: Directos (como el impuesto a la renta) e indirectos (como el IVA).

Q: Â¿QuÃ© es el gasto pÃºblico?
A: Es el dinero que el Estado usa para proveer servicios como educaciÃ³n, salud y seguridad.

Q: Â¿QuÃ© es la deuda pÃºblica?
A: Es el dinero que el Estado debe a acreedores nacionales o extranjeros.
"""

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'EcoSmart.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

WSGI_APPLICATION = 'EcoSmart.wsgi.application'


# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}


# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators

AUTH_PASSWORD_VALIDATORS = [
    {
        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',
    },
    {
        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',
    },
]


# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/

LANGUAGE_CODE = 'es-us'

TIME_ZONE = 'UTC'

USE_I18N = True

USE_TZ = True


# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/

STATIC_URL = 'static/'
STATICFILES_DIRS = [
    BASE_DIR / "App" / "static",
    BASE_DIR / "Planes_app" / "static",
]

# Media files (User uploaded files)
MEDIA_URL = '/media/'
MEDIA_ROOT = BASE_DIR / 'media'

# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field

DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

# Email configuration
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'smtp.gmail.com'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_HOST_USER = os.getenv('EMAIL_HOST_USER')
EMAIL_HOST_PASSWORD = os.getenv('EMAIL_HOST_PASSWORD')
DEFAULT_FROM_EMAIL = EMAIL_HOST_USER
